
# The original data, hitRatioShortestAvg0 means cache ratio of 0.0, hitRatioShortestAvg2 means 0.2
hitRatioShortestAvg0 =  {12052: 1.0}
hitRatioNoValleyAvg0 =  {12052: 1.0}
hitRatioShortestAvg1 =  {3209: 0.0773402444633745, 3278: 0.1005909253543451, 209: 0.0632318729353861, 12052: 0.5363457856553369, 5400: 0.06905796806290951, 3356: 0.06364695587060712, 3320: 0.0897862476580408}
hitRatioNoValleyAvg1 =  {3209: 0.0773402444633745, 3278: 0.1005909253543451, 209: 0.0702906925576661, 12052: 0.5363457856553369, 5400: 0.061999148440629516, 3356: 0.06364695587060712, 3320: 0.0897862476580408}
hitRatioShortestAvg2 =  {3209: 0.13164866652587964, 3278: 0.2064697572161227, 209: 0.055031331941060545, 12052: 0.2605170838121728, 3320: 0.16321509539515164, 3356: 0.10562571321806333, 5400: 0.07749235189154928}
hitRatioNoValleyAvg2 =  {3209: 0.13164866652587964, 3278: 0.2064697572161227, 209: 0.06841976935077723, 12052: 0.2605170838121728, 3320: 0.16321509539515164, 3356: 0.10562571321806333, 5400: 0.06410391448183259}
hitRatioShortestAvg3 =  {3209: 0.14752063665032292, 3278: 0.3074599119105252, 209: 0.052761619116217476, 12052: 0.1064975315578424, 5400: 0.06977979997753674, 3356: 0.10086073148105582, 3320: 0.21511976930649945}
hitRatioNoValleyAvg3 =  {3209: 0.14752063665032292, 3278: 0.3074599119105252, 209: 0.07639254133361408, 12052: 0.1064975315578424, 5400: 0.04614887776014013, 3356: 0.10086073148105582, 3320: 0.21511976930649945}
hitRatioShortestAvg4 =  {3209: 0.14711157710910516, 3278: 0.40534009406289095, 209: 0.031745828451844135, 12052: 0.04639566738598483, 3320: 0.23440982763179904, 3356: 0.08748301654423685, 5400: 0.047513988814139}
hitRatioNoValleyAvg4 =  {3209: 0.14711157710910516, 3278: 0.40534009406289095, 209: 0.050983883746493, 12052: 0.04639566738598483, 3320: 0.23440982763179904, 3356: 0.08748301654423685, 5400: 0.028275933519490138}
hitRatioShortestAvg5 =  {3209: 0.1331803286286715, 3278: 0.5071621394432916, 209: 0.01894899354764814, 12052: 0.016464036390763315, 3320: 0.2363050937116124, 3356: 0.05952945714232179, 5400: 0.028409951135691187}
hitRatioNoValleyAvg5 =  {3209: 0.1331803286286715, 3278: 0.5071621394432916, 209: 0.033769983509475104, 12052: 0.016464036390763315, 3320: 0.2363050937116124, 3356: 0.05952945714232179, 5400: 0.013588961173864217}
hitRatioShortestAvg6 =  {3209: 0.09955526229247129, 3278: 0.5919331457814587, 209: 0.006130254831503934, 12052: 0.002107933014474541, 5400: 0.011144221387009413, 3356: 0.03857334691059155, 3320: 0.25055583578249047}
hitRatioNoValleyAvg6 =  {3209: 0.09955526229247129, 3278: 0.5919331457814587, 209: 0.013584278352197077, 12052: 0.002107933014474541, 3320: 0.25055583578249047, 3356: 0.03857334691059155, 5400: 0.0036901978663162693}
hitRatioShortestAvg7 =  {3209: 0.061578805581190235, 3278: 0.706473670718335, 209: 0.0008294867497012987, 12052: 0.0008124850494502323, 3320: 0.20384231973446218, 3356: 0.019416343749946458, 5400: 0.007046888416914562}
hitRatioNoValleyAvg7 =  {3209: 0.061578805581190235, 3278: 0.706473670718335, 209: 0.006228313975185679, 12052: 0.0008124850494502323, 5400: 0.0016480611914301813, 3356: 0.019416343749946458, 3320: 0.20384231973446218}
hitRatioShortestAvg8 =  {3209: 0.03237169667256196, 3278: 0.7977363908677692, 209: 0.0004098360655737705, 5400: 0.0008039422227065248, 3356: 0.005603404629636714, 3320: 0.16307472954175184}
hitRatioNoValleyAvg8 =  {3320: 0.16307472954175184, 3209: 0.03237169667256196, 3356: 0.005603404629636714, 3278: 0.7977363908677692, 209: 0.0012137782882802955}
hitRatioShortestAvg9 =  {3320: 0.0915441115410568, 3209: 0.007787207531636783, 3356: 0.0004140786749482402, 3278: 0.899845604297348, 5400: 0.000408997955010225}
hitRatioNoValleyAvg9 =  {3320: 0.0915441115410568, 3209: 0.007787207531636783, 3356: 0.0004140786749482402, 3278: 0.899845604297348, 209: 0.000408997955010225}
hitRatioShortestAvg10 =  {3278: 1.0}
hitRatioNoValleyAvg10 =  {3278: 1.0}


hitRatioShortestAvg = []
hitRatioNoValleyAvg = []
# We want know for each AS, its profit change trend.
for i in range(11):
    print 'hitRatioNoValleyAvg%d'%i
    exec('hitRatioShortestAvg.append(hitRatioShortestAvg%d)'%i)
    exec('hitRatioNoValleyAvg.append(hitRatioNoValleyAvg%d)'%i)


# Firstly, generate the AsnCare list, and insert 0.0 for non existed ASNs in profitSum structures
asnCare = []
for dic in hitRatioShortestAvg:
    asnCare += dic.keys()
    
for dic in hitRatioNoValleyAvg:
    asnCare += dic.keys()

asnCare = set(asnCare)
print asnCare
print len(asnCare)

for dic in hitRatioShortestAvg:
    for asn in asnCare:
        if not asn in dic:
            dic[asn] = 0.0

for dic in hitRatioNoValleyAvg:
    for asn in asnCare:
        if not asn in dic:
            dic[asn] = 0.0

######################################################
# Calculate profit for each AS

hitRatioOfAS_Shortest = {}
for dic in hitRatioShortestAvg:
    for asn in dic:
        if not asn in hitRatioOfAS_Shortest:
            hitRatioOfAS_Shortest[asn] = []            
        hitRatioOfAS_Shortest[asn].append(dic[asn])

hitRatioOfAS_NoValley = {}
for dic in hitRatioNoValleyAvg:
    for asn in dic:
        if not asn in hitRatioOfAS_NoValley:
            hitRatioOfAS_NoValley[asn] = []            
        hitRatioOfAS_NoValley[asn].append(dic[asn])

print 'hitRatioOfAS_Shortest = ', hitRatioOfAS_Shortest
print 'hitRatioOfAS_NoValley = ', hitRatioOfAS_NoValley

##print 'len'
##for asn in asnCare:
##    print len(profitOfAS_Shortest[asn])
##    print len(profitOfAS_NoValley[asn])

